function errorFileSystem(e){console.log("Filesystem Error:"+e.code+"\n"+JSON.stringify(e))}function errorImageFileSystem(e){console.log("Image Filesystem Error:"+e.code+"\n"+JSON.stringify(e))}function getFileSystemRefForWriting(e){dataToWrite=e;window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotRssFileSystem,errorFileSystem)}function gotRssFileSystem(e){fileSystem=e;fileSystem.root.getFile(jsonPath,{create:true,exclusive:false},writeDataToRSSFile,errorFileSystem)}function writeDataToRSSFile(e){e.createWriter(gotRSSFileWriter,errorFileSystem)}function gotRSSFileWriter(e){e.onwriteend=function(e){dataToWrite=null};e.seek(0);e.onerror=errorFileSystem;e.write(JSON.stringify(dataToWrite))}function getFileSystemRefForReading(e,t){toShowCategories=e;if(!toShowCategories){dataToWrite=t}window.requestFileSystem(LocalFileSystem.PERSISTENT,0,getFileEntryForReader,errorFileSystem)}function getFileEntryForReader(e){e.root.getFile(jsonPath,null,readRSSFileData,errorFileSystem)}function readRSSFileData(e){console.log("readRSSFileData");try{e.file(gotReadRssFile,errorFileSystem)}catch(t){}}function gotReadRssFile(e){readRSSFileJSON(e)}function readRSSFileJSON(e){console.log("*********FINAL - readRSSFileJSON**********");var t=new FileReader;t.onloadend=function(e){try{var t=$.parseJSON(e.target.result)}catch(n){console.log("try catch"+n.message)}if(toShowCategories){if(t==null||t==""||t=="null"){$("#errorString").html("If you are accessing Tech Time mobile app for the first time, you will need to connect to the internet to view the content.<br> Please close the application and connect to Internet.");$.mobile.changePage("#errorPage")}else{createJsonFormatOffline(t);showCategoriesListTT(t);changeDownloadLogoutColor();document.getElementById("lblUserName").innerHTML=jsonData.loggedUserName.replace(/\_/g,".");lastPageOpen=window.localStorage.getItem("currentPage");if(lastPageOpen==""||lastPageOpen==null){lastPageOpen="businessCategory";$.mobile.changePage("#businessCategory")}if(lastPageOpen=="aboutTectTimePage"){showAboutTTArea();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="contactUsPage"){contactUsFocus();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="faqPage"){showFaqContent();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="DownloadsPage"){showInProgress();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="subscribePage"){showSubscribeContent();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="UpcomingEventsPage"){var r=window.localStorage.getItem("eventmonth");var i=window.localStorage.getItem("currMonth");showUpcomingEventList(r,i);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="TAListResult"){var s=window.localStorage.getItem("currentCategoryOff");var o=window.localStorage.getItem("currentCategoryIdOff");showTAListResult(s,o);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="detailAuthor"){var u=window.localStorage.getItem("authorName");showAuthorDetailPage(u);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="PlaylistsPage"){resetPlaylistLMRParameters();displayPlaylist();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="playlistsItemPage"){var a=window.localStorage.getItem("lastOpenPlaylist");displayPlaylistItems(a);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="sharePlaylistsPage"){$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="addToPlaylistPage"){showAddToPlaylist();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="detailMediaPage"){var f=window.localStorage.getItem("eventFlag");var l=window.localStorage.getItem("spotLightFlag");var c=window.localStorage.getItem("mediaFlag");if(l=="false"&&f=="false"&&c=="false"){$.mobile.changePage("#businessCategory")}if(f=="true"){var h=window.localStorage.getItem("eventitemId");UpcomingEventsDetail(h);$.mobile.changePage("#"+lastPageOpen)}else if(l=="true"){showSpotLightContent();$.mobile.changePage("#"+lastPageOpen)}else if(c=="true"){mediaFlag=true;var p=window.localStorage.getItem("detailPageelementId");var d=window.localStorage.getItem("detailPagetype");var v=window.localStorage.getItem("detailPagecountNum");detailPageView(p,d,v);$.mobile.changePage("#"+lastPageOpen)}}else if(lastPageOpen=="searchResultPage"){var m=window.localStorage.getItem("searchelement");var g=window.localStorage.getItem("media");var y=window.localStorage.getItem("valueElement");var b=window.localStorage.getItem("searchString");showSearchResult(m,g,y,b);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="techWatchPage"){currentTechWatchItemId=window.localStorage.getItem("currentTechWatchItemId");currentTechWatchItemIndex=window.localStorage.getItem("currentTechWatchItemIndex");showTechWatchContent(currentTechWatchItemId,currentTechWatchItemIndex);$.mobile.changePage("#"+lastPageOpen)}else{$.mobile.changePage("#businessCategory")}}}else{jsonFileData=t;if(jsonFileData){compareAndUpdateJSON1(jsonFileData)}else{startThumbnailDownload();if(!toShowCategories){getFileSystemRefForWriting(dataToWrite)}}}};t.readAsText(e)}function deleteFile(e){deleteFileName=e;if(device.platform=="Android"){window.resolveLocalFileSystemURI(deleteFileName,deleteFileByFile,errorDeleteFileSystem)}else{window.requestFileSystem(LocalFileSystem.PERSISTENT,0,doDeleteFile,errorFileSystem)}}function doDeleteFile(e){e.root.getFile(deleteFileName,null,deleteFileByFile,errorFileSystem)}function deleteFileByFile(e){e.remove(function(){deleteFileName="";jAlert("File deleted successfully.","Tech Time")},errorDeleteFileSystem)}function errorDeleteFileSystem(e){jAlert("Error while deleting File. Please retry again.","Tech Time")}function readDataUrl(e){var t=new FileReader;t.onloadend=function(e){};t.readAsDataURL(e)}var dataToWrite;var toShowCategories=false;var jsonFileData;var deleteFileName;var dwnldData;var globalPath;var authorGlobal=""