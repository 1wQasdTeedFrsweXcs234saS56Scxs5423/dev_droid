function setTaFlag(){spotLightFlag=false;eventsFlag=false;mediaFlag=true}function setSpotLightFlag(){spotLightFlag=true;eventsFlag=false;mediaFlag=false}function getListElement(e,t,n,r){mediaFlag=true;if(spotLightFlag){spotLightFlag=true}else{spotLightFlag=false}eventsFlag=false;dwFlag=false;alldownloadFlag=false;spotFlagSet=false;var i="";var s="";if(isOnline){if(downloadedThumbs.indexOf(e.itemId+"thumb.png")!=-1){s=sPath+"/images/"+e.itemId+"thumb.png"}else if(downloadedThumbs.indexOf(e.itemId+"thumb.png")==-1){if(e.thumb!=""){s=e.thumb}else if(e.thumb==""){s="images/TechTime.png"}}}else if(!isOnline){if(downloadedThumbs.indexOf(e.itemId+"thumb.png")!=-1){s=sPath+"/images/"+e.itemId+"thumb.png"}else if(downloadedThumbs.indexOf(e.itemId+"thumb.png")==-1){s="images/TechTime.png"}}var o="";$.each(e.author,function(t,n){if(t==0){o=o+n}else if(t<=e.author.length-1){o=o+", "+n}else{o=o+" "+n}});var u;var a;if(e.type=="Audios"){n=n;u="Audios";t=t;a="images/icon_audio.png"}if(e.type=="Videos"){n=n;u="Videos";t=t;a="images/icon_video.png"}if(e.type=="Panel Discussions"){n=n;u="PanelDiscussions";t=t;a="images/icon_panelDiscussion.png"}if(e.type=="Interviews"){n=n;u="Interviews";t=t;a="images/icon_interview.png"}if(e.type=="documents"){n=n;u="documents";t=t;a="images/icon_document.png"}if(e.type=="Technology Conferences"){n=n;u="TechnologyConferences";t=t;a="images/icon_techConf.png"}if(e.type=="Technology Sessions"){n=n;u="TechnologySessions";t=t;a="images/icon_video.png"}if(totalItemCount==1){$("#numberOfItems").html("("+totalItemCount+" Item)")}else if(totalItemCount>1){$("#numberOfItems").html("("+totalItemCount+" Items)")}else if(totalItemCount==0){$("#numberOfItems").html("(No Items)")}i+="<div class='listItemClick'>";if(r<5){i+="<a id="+n+" href='#detailMediaPage' data-transition='slide' onclick=detailPageView('"+e.itemId+"','"+u+"',"+t+") style='text-decoration:none;font-style:normal;color:black;display:block;overflow :hidden' >"}else{i+="<a id="+n+" href='#detailMediaPage' data-transition='slide' onclick=detailPageView('"+e.itemId+"','"+u+"',"+t+") style='text-decoration:none;font-style:normal;color:black;display:none;overflow :hidden' >"}i=i+"<table border=0  style='width:100%;margin:0px;padding:0px;margin-top:5px;margin-bottom: 5px; border-bottom:1px solid grey;' cellpadding='0' cellspacing='0' >";i=i+"<tr><td id='"+e.itemId+"' style='margin:0px;padding:0px;width:25%;height:100px;' rowspan='3' >";i=i+"<img src='"+s+"' style='height:75px;width:75px;margin:auto;margin-left:15px;margin-top:2%'></img></td>";i=i+"<td style='margin:0px; padding:0px; width:65%;color: orange;font-style:bold;padding-left:12px;font-size:16px'><b>"+e.title+"</b></td>";i=i+"<td style='margin:0px; padding:0px; width:10%;' rowspan='2' align='right'>";i=i+"<embed src='"+a+"' type='image/svg+xml' style='height:20px;width:100%;border:none;padding:0px;margin-right:15px'/>";i=i+"</td></tr> <tr><td id='' style='margin:0px;padding:0px;width:65%;color: orange;font-size:14px;font-weight:100;padding-left:12px;'>"+o+"</td></tr>";i=i+"<tr><td id='' style='margin:0px;padding:0px;width : 65%;font-size:16px;padding-left:16px;font-weight:100;'>"+e.publishedDate+"\n";i=i+showDownloadedIcons(e)+"</td>";i=i+"<td id='' style='margin:0px; padding:0px; width:10%;' align='right'><embed src='images/icon_orangeRight.svg' type='image/svg+xml' width='100%' height='20px;' style='margin-right:15px;'/></td></tr></table><hr style='width:100%;background-color: grey; color: grey;margin-bottom:-10px;'></a></div>";return i}function renderItemCount(e){}function detailPageView(e,t,n){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFS,errorFileSystem);dwFlag=false;detailFlag=true;alldownloadFlag=false;window.localStorage.setItem("detailPageelementId",e);window.localStorage.setItem("detailPagetype",t);window.localStorage.setItem("detailPagecountNum",n);hidePopup();var r="";var i="";var s="";currElementId=e;currElementtype=t;currElementcountNum=n;showNavigateDiv("navigateDiv");var o="";var u=new Array;if(t=="Audios"){u=jsonData.audio;o="images/icon_audio.png"}if(t=="Videos"){u=jsonData.video;o="images/icon_video.png"}if(t=="Panel Discussions"||t=="PanelDiscussions"){u=jsonData.panelDiscussions;o="images/icon_panelDiscussion.png"}if(t=="Interviews"){u=jsonData.interviews;o="images/icon_interview.png"}if(t=="documents"){u=jsonData.documents;o="images/icon_document.png"}if(t=="events"){u=jsonData.events;o="images/icon_event.png";$.each(jsonData.spotLight,function(e,t){s="";var n=t.category;arrayOfCategories=n.split("|");for(var r=0;r<arrayOfCategories.length;r++){var i=new Array;i=arrayOfCategories[r].split("-");if(r==arrayOfCategories.length-1){s+=i[0]}else{s+=i[0]+", "}}if(s.length>35){stringToDisplay=s.substring(0,32);var o=stringToDisplay+"...";s=o}})}if(t=="Technology Conferences"||t=="TechnologyConferences"){u=jsonData.techConf;o="images/icon_techConf.png"}if(t=="Technology Sessions"||t=="TechnologySessions"){u=jsonData.technologySessions;o="images/icon_video.png"}$.each(u,function(t,n){if(n.itemId==e){var a="";var f="";var l="";var c="";var h="";var p="";var d="";var v="";var m="";var g="";var y="";var b="";var w="";var E="";a=n.itemId;l=n.audioUrl;c=n.videoUrl;h=n.presentationUrl;p=n.transcriptUrl;v=n.audioLength;m=n.videoLength;g=n.presentationLength;y=n.transcriptLength;b=getFileSize(m);w=JSON.stringify(n.title);if(n.actualLoc!=""){E=n.actualLoc}else if(!isOnline){E=sPath+"/images/"+a+"actual.png"}else{var S=UrlExistsImage(sPath+"/images/"+a+"actual.png");if(S==0){E=sPath+"/images/"+a+"actual.png"}else{E=n.actual}}posterImage=E;if(u==jsonData.audio){if(c!=""){var x="AV"+a}if(l!=""){var T="AA"+a}if(h!=""){var N="AP"+a}if(p!=""){var C="AT"+a}}if(u==jsonData.video){if(c!=""){var x="VV"+a}if(l!=""){var T="VA"+a}if(h!=""){var N="VP"+a}if(p!=""){var C="VT"+a}}if(u==jsonData.panelDiscussions){if(c!=""){var x="PV"+a}if(l!=""){var T="PA"+a}if(h!=""){var N="PP"+a}if(p!=""){var C="PT"+a}}if(u==jsonData.interviews){if(c!=""){var x="IV"+a}if(l!=""){var T="IA"+a}if(h!=""){var N="IP"+a}if(p!=""){var C="IT"+a}}if(u==jsonData.techConf){if(c!=""){var x="TV"+a}if(l!=""){var T="TA"+a}if(h!=""){var N="TP"+a}if(p!=""){var C="TT"+a}}if(u==jsonData.documents){f="DD"+a;d=n.pdf;lURL=n.localPath}if(u==jsonData.events){var k=n.itemId;var L=n.icsfile}if(u==jsonData.technologySessions){if(c!=""){var x="VV"+a}if(l!=""){var T="VA"+a}if(h!=""){var N="VP"+a}if(p!=""){var C="VT"+a}}if(u==jsonData.audio||u==jsonData.video||u==jsonData.panelDiscussions||u==jsonData.interviews||u==jsonData.techConf||u==jsonData.technologySessions){r=r+"<br><div class='detailPageDiv' style='border :none'><table border='0' class='detailPageTable'><tr><td style='width : 50%'>";if(c!=""){if(n.isDownloadedVideo=="true"||n.isDownloadedVideo==true){r=r+"<img id="+x+" title='"+n.localPathVideo+"' onclick='downloadSeqArray(this,"+n.isDownloadedVideo+","+w+", 2)' src='"+E+"' class ='actualDetailThumb'  /></div><br><br>"}else{if(isOnline){r=r+"<video id ='liveVid' class ='actualDetailThumb' poster='"+E+"' >";r=r+"<source src='"+c+"'></source>";r=r+"our browser does not support the video tag.";r=r+"</video></div><br>"}else{r=r+"<img id ='liveVid1' class ='actualDetailThumb' src='"+E+"' onlick='jAlert('Please go online to view the video.', 'Tech Time');>";r=r+"</div><br>"}}}else if(c==""&&l!=""){r=r+"<div id='audioStreamer'><img id='"+x+"' src='"+E+"' onclick='showAudioStreaming("+a+")' class ='actualDetailThumb' />";r=r+"<video id='audioP' style='width:150px; height:20px;margin:20px 20px;' ><source src='"+l+"' type='video/mpeg'>Your browser does not support the video tag.</video></div>"}r=r+"</td><td style='width:50%;'><br>";if(l!=""){if(n.isDownloadedAudio=="true"){r=r+"<div id='"+T+"' title='"+n.localPathAudio+"' onclick='downloadSeqArray(this,"+n.isDownloadedAudio+","+w+",1)' class='detailPageButtonDiv' ><img src='images/btn_viewAudio.png' height='100%' width='100%' class='detailPageButton' /></div><br>"}else{r=r+"<div id='"+T+"' title='"+l+"' onclick='downloadSeqArray(this,"+n.isDownloadedAudio+","+w+",1)' class='detailPageButtonDiv' ><img src='images/btn_downloadAudio.png' height='100%' width='100%' class='detailPageButton' /></div><br>"}}if(h!=""){if(downloadedFiles.indexOf(N+".pdf")!=-1){r=r+"<div id='"+N+"' title= '"+n.localPathPresentation+"' onclick= 'downloadSeqArray(this,true,"+w+",3)' class='detailPageButtonDiv' ><img src='images/btn_viewPresentation.png' height='100%' width='100%' class='detailPageButton'></div><br>"}else{r=r+"<div id='"+N+"' title= '"+h+"' onclick= 'downloadSeqArray(this,false,"+w+",3)' class='detailPageButtonDiv' ><img src='images/btn_downloadPresentation.png' height='100%' width='100%' class='detailPageButton'></div><br>"}}if(p!=""){if(downloadedFiles.indexOf(C+".pdf")!=-1){r=r+"<div id='"+C+"' title= '"+n.localPathTranscript+"' onclick= 'downloadSeqArray(this,true,"+w+",4)' class='detailPageButtonDiv' ><img src='images/btn_viewTranscript.png' height='100%' width='100%' class='detailPageButton'/></div><br>"}else{r=r+"<div id='"+C+"' title= '"+p+"' onclick= 'downloadSeqArray(this,false,"+w+",4)' class='detailPageButtonDiv'><img src='images/btn_downloadTranscript.png' height='100%' width='100%' class='detailPageButton' /></div><br>"}}if(c!=""){if(n.isDownloadedVideo=="true"||n.isDownloadedVideo==true){r=r+"<div id='"+x+"' title='"+n.localPathVideo+"' onclick='downloadSeqArray(this,"+n.isDownloadedVideo+","+w+", 2)' class='detailPageButtonDiv' ><img src='images/btn_viewVideo.png' height='100%' width='100%' class='detailPageButton' /></div><br>"}else{r=r+"<div id='"+x+"' title='"+c+"' onclick='downloadSeqArray(this,"+n.isDownloadedVideo+","+w+", 2)' class='detailPageButtonDiv'><img src='images/btn_downloadVideo.png' height='100%' width='100%' class='detailPageButton'/></div><br>"}r=r+"<div id='playlistItem"+x+"' data-playlistItemId="+x+"'  data-playlistItemTitle='"+n.title+"' data-playlistItemDate='"+n.publishedDate+"' data-playlistItemAuthor='"+n.author+"' data-playlistItemUrl='"+c+"' data-playlistItemThumb='"+n.actual+"' class='detailPageButtonDiv' onclick='getAddToPlaylistItemDetails(this);showAddToPlaylist()'><img  src='images/addToPlaylist.png' height='100%' width='100%' class='detailPageButton''/></div><br>"}if(n.qna!=""){r=r+"<a style='text-decoration:none;font-style:normal;' href='#qnaPage'>";r=r+"<div id='"+n.title+"' title='"+n.qna+"' onclick= 'showQnA(this)' class='detailPageButtonDiv'><img src='images/btn_viewQA.png' height='100%' width='100%' class='detailPageButton' /></div></a><br>"}r=r+"</td></tr>";r=r+"<tr><td style='width : 100%' colspan='2'><embed src='"+o+"' type='image/svg+xml' style='height:20px; width:20px;border:none;padding:0px;margin-right:10px'/>";r=r+"<label id='videoTitle' style='font-size: 24px;font-family: AgfaRotisSans;padding-top : 0px;'>"+n.title+"</label><br>"}else if(u==jsonData.documents){r=r+"<br><div class='detailPageDiv' style='border :none'><table border='0' class='detailPageTable'><tr><td style='width : 40%'>";if(downloadedFiles.indexOf(f)!=-1){r=r+"<img id='"+f+"' title= '"+n.localPath+"'  src='"+E+"' onclick= 'downloadSeqArray(this,true,"+w+",5)' class ='actualDetailThumb'/><br><br>"}else{r=r+"<img id='"+f+"' title= '"+d+"' src='"+E+"' onclick= 'downloadSeqArray(this,false,"+w+",5)' class ='actualDetailThumb'/><br><br>"}r=r+"</td><td style='width : 60%'><br>";if(downloadedFiles.indexOf(f+".pdf")!=-1){r=r+"<div id='"+f+"' title= '"+n.localPath+"' onclick= 'downloadSeqArray(this,true,"+w+",5)' class='detailPageButtonDiv'><img src='images/btn_viewPDF.png' height='100%' width='100%' class='detailPageButton' /></div><br><br>"}else{r=r+"<div id='"+f+"' title= '"+d+"' onclick= 'downloadSeqArray(this,false,"+w+",5)' class='detailPageButtonDiv'><img src='images/button_downloadPDF.png' height='100%' width='100%' class='detailPageButton' /></div><br><br>"}r=r+"<tr><td style='width : 100%' colspan='2'><img id='docThumb' src='"+o+"' style='height:20px; width:20px; border:none;;margin:5px;'/>";r=r+"<label id='videoTitle' style='font-size: 24px;font-family: AgfaRotisSans;padding-top : 0px;'>"+n.title+"</label><br>"}else if(u==jsonData.events){r=r+"<br><div class='detailPageDiv' style='border :none'><table border='0' class='detailPageTable'><tr><td style='width : 50%'>";if(n.authorCount==1){r=r+"<img id='docImg' src='"+E+"' style='border:none; width:90%; margin:10px 10px;'/><br></td>"}else if(n.authorCount==2){r=r+"<img id='docImg' src='"+E+"' style='border:none; width:90%; margin:10px 10px'/><br></td>"}else{r=r+"<img id='docImg' src='"+E+"' style='border:none; width:90%;  margin:10px 10px'/><br></td>"}r=r+"</td><td style='width : 50%'></tr><br>";if(s!=""){r+="<tr><td style='width : 100%' colspan='2'style='font-size: 24px;font-family: AgfaRotisSans;padding-top : 0px;'>"+s+"</td> </tr>"}r=r+"<tr><td style='width : 100%' colspan='2'><img id='docThumb' src='"+o+"' style='height:20px; width:20px; border:none;margin:5px; '/>";r=r+"<label id='videoTitle' style='font-size: 24px;font-family: AgfaRotisSans;padding-top : 0px;'>"+n.title+"</label><br>"}$.each(n.author,function(e,t){authornamefromid=t;r=r+"<a id='"+t+"'  style='text-decoration:none;font-style:normal;' onclick='showAuthorDetailPage(this.id);' href='#detailAuthor'>";r=r+"<label style='font-size: 14px;font-family: AgfaRotisSans;color:orange'>"+t+"</label></a><br>"});r=r+"<label id='videoDate' style='font-size: 14px;'>"+n.publishedDate+"</label><br><br><br>";r=r+"<label id='videoDescription' style='font-size: 14px;'>"+n.description+"</label>";r=r+"<br><br></td></tr></table>";i=i+"<div style='width: 100%; height: 20px;background:white;border:none'>";i=i+"<table style='width: 100%;background:white'><tr>";i=i+"<td id='prevBtn' style='float: left; padding-left: 3%; padding-top: 7px; vertical-align: middle' onclick='showpreItem("+e+")' ><img width='90' src='images/btn_previous.png' class='nextprevEffects'></img></td>";i=i+"<td id='nextBtn' style='float: right; padding-right: 3%; padding-top: 7px; vertical-align: middle' onclick='showNextItem("+e+")' ><img width='60' src='images/btn_next.png' class='nextprevEffects'></img></td>";i=i+"</tr><tr><td><hr style='width:100%;background-color: white; color: grey; height:0.5px;margin-top:-5px;'></td></tr></table></div></div>"}});document.getElementById("spotItemContent").style.display="none";$("#detailPageArea").html(r);$("#prevNextContentArea").html(i);if(n==0){document.getElementById("prevBtn").style.display="none"}if(n==-1){document.getElementById("nextBtn").style.display="none"}if(n==-100){document.getElementById("prevBtn").style.display="none";document.getElementById("nextBtn").style.display="none"}r="";i="";$("video").bind("play",stopMedia)}function stopMedia(e,t){$.each($("video"),function(){var e=this.poster;if(isOnline==false||isOnline=="false"){this.poster=e;this.src=" ";this.load();jAlert("Please go online to view the video.","Tech Time")}})}function compareAndUpdateJSON1(e){var t=[];$("#imgRefreshProgress").hide();console.log("Downloading images started .....");$.each(e.documents,function(e,t){if(t.isDownloaded=="true"){$.each(jsonData.documents,function(e,n){if(t.itemId==n.itemId){n.isDownloaded=t.isDownloaded;n.localPath=t.localPath;n.downloadedDateD=t.downloadedDateD}})}});$.each(e.audio,function(e,t){if(t.isDownloadedAudio=="true"||t.isDownloadedVideo=="true"||t.isDownloadedTranscript=="true"||t.isDownloadedPresentation=="true"){$.each(jsonData.audio,function(e,n){if(t.itemId==n.itemId){n.isDownloadedAudio=t.isDownloadedAudio;n.isDownloadedVideo=t.isDownloadedVideo;n.isDownloadedTranscript=t.isDownloadedTranscript;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathAudio=t.localPathAudio;n.localPathVideo=t.localPathVideo;n.localPathTranscript=t.localPathTranscript;n.localPathPresentation=t.localPathPresentation;n.downloadedDateA=t.downloadedDateA;n.downloadedDateV=t.downloadedDateV;n.downloadedDateP=t.downloadedDateP;n.downloadedDateT=t.downloadedDateT}})}});$.each(e.video,function(e,t){if(t.isDownloadedAudio=="true"||t.isDownloadedVideo=="true"||t.isDownloadedTranscript=="true"||t.isDownloadedPresentation=="true"){$.each(jsonData.video,function(e,n){if(t.itemId==n.itemId){n.isDownloadedAudio=t.isDownloadedAudio;n.isDownloadedVideo=t.isDownloadedVideo;n.isDownloadedTranscript=t.isDownloadedTranscript;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathAudio=t.localPathAudio;n.localPathVideo=t.localPathVideo;n.localPathTranscript=t.localPathTranscript;n.localPathPresentation=t.localPathPresentation;n.downloadedDateA=t.downloadedDateA;n.downloadedDateV=t.downloadedDateV;n.downloadedDateP=t.downloadedDateP;n.downloadedDateT=t.downloadedDateT}})}});$.each(e.TechnologySessions,function(e,t){if(t.isDownloadedAudio=="true"||t.isDownloadedVideo=="true"||t.isDownloadedTranscript=="true"||t.isDownloadedPresentation=="true"){$.each(jsonData.technologySessions,function(e,n){if(t.itemId==n.itemId){n.isDownloadedAudio=t.isDownloadedAudio;n.isDownloadedVideo=t.isDownloadedVideo;n.isDownloadedTranscript=t.isDownloadedTranscript;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathAudio=t.localPathAudio;n.localPathVideo=t.localPathVideo;n.localPathTranscript=t.localPathTranscript;n.localPathPresentation=t.localPathPresentation;n.downloadedDateA=t.downloadedDateA;n.downloadedDateV=t.downloadedDateV;n.downloadedDateP=t.downloadedDateP;n.downloadedDateT=t.downloadedDateT}})}});$.each(e.panelDiscussions,function(e,t){if(t.isDownloadedAudio=="true"||t.isDownloadedVideo=="true"||t.isDownloadedTranscript=="true"||t.isDownloadedPresentation=="true"){$.each(jsonData.panelDiscussions,function(e,n){if(t.itemId==n.itemId){n.isDownloadedAudio=t.isDownloadedAudio;n.isDownloadedVideo=t.isDownloadedVideo;n.isDownloadedTranscript=t.isDownloadedTranscript;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathAudio=t.localPathAudio;n.localPathVideo=t.localPathVideo;n.localPathTranscript=t.localPathTranscript;n.localPathPresentation=t.localPathPresentation;n.downloadedDateA=t.downloadedDateA;n.downloadedDateV=t.downloadedDateV;n.downloadedDateP=t.downloadedDateP;n.downloadedDateT=t.downloadedDateT}})}});$.each(e.interviews,function(e,t){if(t.isDownloadedAudio=="true"||t.isDownloadedVideo=="true"||t.isDownloadedTranscript=="true"||t.isDownloadedPresentation=="true"){$.each(jsonData.interviews,function(e,n){if(t.itemId==n.itemId){n.isDownloadedAudio=t.isDownloadedAudio;n.localPathAudio=t.localPathAudio;n.isDownloadedVideo=t.isDownloadedVideo;n.localPathVideo=t.localPathVideo;n.isDownloadedTranscript=t.isDownloadedTranscript;n.localPathTranscript=t.localPathTranscript;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathPresentation=t.localPathPresentation;n.downloadedDateA=t.downloadedDateA;n.downloadedDateV=t.downloadedDateV;n.downloadedDateP=t.downloadedDateP;n.downloadedDateT=t.downloadedDateT}})}});$.each(e.techConf,function(e,t){if(t.isDownloadedAudio=="true"||t.isDownloadedVideo=="true"||t.isDownloadedTranscript=="true"||t.isDownloadedPresentation=="true"){$.each(jsonData.techConf,function(e,n){if(t.itemId==n.itemId){n.isDownloadedAudio=t.isDownloadedAudio;n.isDownloadedVideo=t.isDownloadedVideo;n.isDownloadedTranscript=t.isDownloadedTranscript;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathAudio=t.localPathAudio;n.localPathVideo=t.localPathVideo;n.localPathTranscript=t.localPathTranscript;n.localPathPresentation=t.localPathPresentation;n.downloadedDateA=t.downloadedDateA;n.downloadedDateV=t.downloadedDateV;n.downloadedDateP=t.downloadedDateP;n.downloadedDateT=t.downloadedDateT}})}});$.each(e.spotLight,function(e,t){if(t.isDownloadedAudio=="true"||t.isDownloadedVideo=="true"||t.isDownloadedTranscript=="true"||t.isDownloadedPresentation=="true"||t.isDownloaded=="true"){$.each(jsonData.spotLight,function(e,n){if(t.itemId==n.itemId){console.log("updating SpotLight JSON");n.isDownloaded=t.isDownloaded;n.localPath=t.localPath;n.downloadedDateD=t.downloadedDateD;n.isDownloadedAudio=t.isDownloadedAudio;n.isDownloadedVideo=t.isDownloadedVideo;n.isDownloadedTranscript=t.isDownloadedTranscript;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathAudio=t.localPathAudio;n.localPathVideo=t.localPathVideo;n.localPathTranscript=t.localPathTranscript;n.localPathPresentation=t.localPathPresentation;n.downloadedDateA=t.downloadedDateA;n.downloadedDateV=t.downloadedDateV;n.downloadedDateP=t.downloadedDateP;n.downloadedDateT=t.downloadedDateT;console.log("SpotLight JSON updated")}})}});$.each(e.spotLightDownloaded,function(e,t){jsonData.spotLightDownloaded.push(t)});$.each(jsonData.audio,function(e,t){if(downloadedFiles.indexOf("AA"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.audioIsDownloaded=t.audioIsDownloaded;n.isDownloadedAudio=t.isDownloadedAudio;n.localPathAudio=t.localPathAudio;n.downloadedDateA=t.downloadedDateA}})}if(downloadedFiles.indexOf("AV"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.videoIsDownloaded=t.videoIsDownloaded;n.isDownloadedVideo=t.isDownloadedVideo;n.localPathVideo=t.localPathVideo;n.downloadedDateV=t.downloadedDateV}})}if(downloadedFiles.indexOf("AP"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.presentationIsDownloaded=t.presentationIsDownloaded;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathPresentation=t.localPathPresentation;n.downloadedDateP=t.downloadedDateP}})}if(downloadedFiles.indexOf("AT"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.transcriptIsDownloaded=t.transcriptIsDownloaded;n.isDownloadedTranscript=t.isDownloadedTranscript;n.localPathTranscript=t.localPathTranscript;n.downloadedDateT=t.downloadedDateT}})}});$.each(jsonData.video,function(e,t){if(downloadedFiles.indexOf("VA"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.audioIsDownloaded=t.audioIsDownloaded;n.isDownloadedAudio=t.isDownloadedAudio;n.localPathAudio=t.localPathAudio;n.downloadedDateA=t.downloadedDateA}})}if(downloadedFiles.indexOf("VV"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.videoIsDownloaded=t.videoIsDownloaded;n.isDownloadedVideo=t.isDownloadedVideo;n.localPathVideo=t.localPathVideo;n.downloadedDateV=t.downloadedDateV}})}if(downloadedFiles.indexOf("VP"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.presentationIsDownloaded=t.presentationIsDownloaded;n.isDownloadedPresentation=t.isDownloadedPresentation;n.localPathPresentation=t.localPathPresentation;n.downloadedDateP=t.downloadedDateP}})}if(downloadedFiles.indexOf("VT"+t.itemId)!=-1){$.each(jsonData.technologySessions,function(e,n){if(n.itemId==t.itemId){n.transcriptIsDownloaded=t.transcriptIsDownloaded;n.isDownloadedTranscript=t.isDownloadedTranscript;n.localPathTranscript=t.localPathTranscript;n.downloadedDateT=t.downloadedDateT}})}});getFileSystemRefForWriting(jsonData)}var posterImage="";var uniqueDownloaded=function(e){var t=[],n=e.length,r,i,s;for(i=0;i<n;i++){console.log("origArr[x]----"+JSON.stringify(e[i]));r="";for(s=0;s<t.length;s++){if(e[i].path===t[s].path){r=true;break}}if(!r){t.push(e[i])}}return t}